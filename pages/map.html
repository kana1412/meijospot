<!-- map.html: 地図に店舗ピンを表示するページ -->
<!DOCTYPE html> <!-- HTML5宣言 -->
<html lang="ja"> <!-- 文書言語を日本語に設定 -->
<head> <!-- ヘッダー情報 -->
  <meta charset="UTF-8"> <!-- 文字コードをUTF-8に設定 -->
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- モバイル最適化 -->
  <title>マップ | MeijoSpot</title> <!-- タイトル -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"> <!-- LeafletのCSSをCDNから読み込み -->
  <style> /* 必要最小限のページ内スタイル */
    body{margin:0;font-family:system-ui,sans-serif;} /* 余白を消し基本フォントを指定 */
    header{display:flex;align-items:center;gap:8px;padding:8px 12px;border-bottom:1px solid #eee;} /* 簡易ヘッダー */
    header img{width:120px;} /* ロゴの幅 */
    #map{height:calc(100vh - 60px);} /* 画面全体からヘッダー分を引いた高さを地図に割り当て */
  </style> <!-- スタイル終了 -->
</head> <!-- ヘッダー情報終了 -->
<body> <!-- 本文開始 -->
  <header> <!-- ヘッダー -->
    <a href="../index.html"><img src="../img/rogo.png" alt="MeijoSpot"></a> <!-- ロゴを押すとトップへ戻る -->
    <strong>マップ</strong> <!-- 見出し -->
  </header> <!-- ヘッダー終了 -->

  <div id="map"></div> <!-- 地図の描画領域 -->

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script> <!-- Leaflet本体の読み込み -->
  <script> // 地図表示用のスクリプト開始
    const center = [35.1555, 136.9640]; // 名城大学（ナゴヤドーム前矢田近辺）の仮中心座標
    const map = L.map('map').setView(center, 15); // 地図を作成し中心とズームを設定
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution:'© OpenStreetMap' }).addTo(map); // OSMタイルを表示

    // サンプルの店舗座標（実店舗に合わせて調整可能）
    const shops = [ // 配列に店舗情報を定義
      {name:'麺屋ドラゴン', lat:35.1561, lng:136.9635, page:'../shops/shop1.html'}, // 店1
      {name:'学食カフェ',   lat:35.1550, lng:136.9638, page:'../shops/shop2.html'}, // 店2
      {name:'コモンホール', lat:35.1546, lng:136.9650, page:'../shops/shop3.html'}, // 店3
      {name:'屋台タコス',   lat:35.1567, lng:136.9655, page:'../shops/shop4.html'}, // 店4
      {name:'定食すぎだま', lat:35.1559, lng:136.9662, page:'../shops/shop5.html'}, // 店5
    ]; // 配列定義の終了

    shops.forEach(s=>{ // 各店舗について処理
      L.marker([s.lat,s.lng]).addTo(map) // 座標にマーカーを追加
        .bindPopup(`<b>${s.name}</b><br><a href="${s.page}">詳細を見る</a>`); // 店名と詳細リンクのポップアップを設定
    }); // ループ終了
  </script> <!-- スクリプト終了 -->
</body> <!-- 本文終了 -->
</html> <!-- 文書終了 -->
